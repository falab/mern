"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};window.Zframe=function(){function e(){f.app=document.getElementById("app")}function o(e){return Object.key(i.unloaded).indexOf(e)>-1}function n(e){return Object.keys(i.loaded).indexOf(e)>-1}function t(e){var r=i.unloaded[e];if("function"==typeof r)r={fn:r,scope:{}};else if(r.hasOwnProperty("length")){var l=r.pop();r={fn:l,dependencies:r,scope:{}}}else if("object"!==("undefined"==typeof r?"undefined":_typeof(r)))return void a.logger.error(d.name+" module '"+e+"' could not be loaded.");r.hasOwnProperty("scope")||(r.scope={});var u=[f];void 0!==r.dependencies&&r.dependencies.forEach(function(r,f){if(!n(r)){if(!o)return void a.logger.error(d.name+" module '"+e+"' dependency '"+r+"' is not a registered module.");t(r),u.push(i.loaded[r])}}),i.scopes[e]=r.scope,i.loaded[e]=r.fn.apply(r.scope,u),a.logger.info(d.name+" module '"+e+"' loaded!"),delete i.unloaded[name]}function r(){Object.keys(i.unloaded).forEach(function(e){n(e)||t(e)})}var d={name:"Zframe",version:"0.0.0"},i={loaded:{},unloaded:{},scopes:{}},f={},a={},l={};return a.logger={log:function(){console.log.apply(console,arguments)},info:function(){console.info.apply(console,arguments)},warn:function(){console.warn.apply(console,arguments)},error:function(){console.error.apply(console,arguments)},table:function(){console.table.apply(console,arguments)}},a.bindEvent=function(e,o,n,t){var r=void 0;void 0===t&&("function"==typeof n?t=n:"object"===("undefined"==typeof n?"undefined":_typeof(n))&&(t=n.fn)),"string"==typeof n?r=n:"object"===("undefined"==typeof n?"undefined":_typeof(n))&&(r=n.query),void 0===("undefined"==typeof t?"undefined":_typeof(t))&&app.logger.error(d.name+" couldn't find an event to bind"),void 0===r?e.addEventListener(o,t):e.addEventListener(o,function(o){var n=Array.prototype.slice.call(e.querySelectorAll(r));-1!==n.indexOf(o.target)&&t.apply(this,arguments)})},a.extend=function(e,o){return"object"===("undefined"==typeof o?"undefined":_typeof(o))?(Object.keys(o).forEach(function(n){e[n]=o[n]}),e):void 0},l.module=function(e,o){return void 0!==o?(-1!==Object.keys(i.unloaded).indexOf(e)?a.logger.warn(d.name+" module '"+e+"' already registered for loading."):i.unloaded[e]=o,i.unloaded[e]):-1===Object.keys(i.loaded).indexOf(e)?void a.logger.error(d.name+" module '"+e+"' doesn't exist."):i.loaded[e]},l.init=function(){e(),r(),a.logger.info(d.name+" initialization complete.")},a.logger.info(d.name+" v"+d.version+" loaded!"),a.extend(l,a)},window.zframe=Zframe(),zframe.module("main",function(e){var o={menuItems:[{path:"/",text:"home"},{path:"/portfolio",text:"portfolio"},{path:"http://www.google.com",text:"Google",remote:!0}]};e.app.innerHTML=zframe.Templates.application(o)}),zframe.module("zRouter",function(e){var o=[],n=function(e,n){o[e]=n},t=function(e){return n("/",e)};return zframe.bindEvent(e.app,"click","a",function(e){e.preventDefault(),console.log("It works!",e)}),{when:n,otherwise:t}}),zframe.module("xhr",function(){return function(e){"string"==typeof e&&(e={url:e}),zframe.logger.info("Performing XHR to "+e.url+" here")}});
//# sourceMappingURL=application.min.js.map
